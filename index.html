<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI Adoption Dashboard</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
  </style>
</head>
<body class="bg-gray-50">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // ============================================================
    // DUMMY DATA
    // ============================================================

    const KPI_METRICS = [
      {
        title: 'Monthly AI Queries',
        value: '12,847',
        change: '+23%',
        trend: 'up',
        subtitle: 'vs last month',
        icon: '‚ö°',
        badge: 'bg-blue-100 text-blue-700',
      },
      {
        title: 'Active Users',
        value: '342',
        change: '+18%',
        trend: 'up',
        subtitle: 'vs last month',
        icon: 'üë•',
        badge: 'bg-emerald-100 text-emerald-700',
      },
      {
        title: 'Hours Saved',
        value: '1,240',
        change: '+31%',
        trend: 'up',
        subtitle: 'this month',
        icon: '‚è±Ô∏è',
        badge: 'bg-violet-100 text-violet-700',
      },
      {
        title: 'Cost Savings',
        value: '$84,200',
        change: '+27%',
        trend: 'up',
        subtitle: 'this month',
        icon: 'üí∞',
        badge: 'bg-amber-100 text-amber-700',
      },
    ];

    // 30 days of daily query data
    const DAILY_LABELS = (() => {
      const labels = [];
      for (let i = 29; i >= 0; i--) {
        const d = new Date(2026, 1, 19); // Feb 19 2026
        d.setDate(d.getDate() - i);
        labels.push(d.toLocaleDateString('en-US', { month: 'short', day: 'numeric' }));
      }
      return labels;
    })();

    const DAILY_DATA = [
      312, 298, 341, 389, 402, 371, 290, 315, 378, 421,
      455, 438, 467, 502, 489, 471, 510, 543, 528, 562,
      598, 581, 603, 634, 618, 649, 671, 658, 692, 714,
    ];

    const DEPARTMENT_DATA = {
      labels: ['Engineering', 'Sales', 'Cust. Support', 'Marketing', 'HR', 'Finance'],
      data:   [3840,          2560,    2910,            1780,        980,  777],
      colors: ['#3b82f6',    '#10b981', '#f59e0b',     '#8b5cf6',  '#ef4444', '#06b6d4'],
    };

    const USE_CASE_DATA = {
      labels: ['Code Assist', 'Content Writing', 'Data Analysis', 'Cust. Support', 'Research', 'Other'],
      data:   [32,            24,                18,              13,             9,           4],
      colors: ['#3b82f6', '#10b981', '#f59e0b', '#8b5cf6', '#ef4444', '#94a3b8'],
    };

    const ADOPTION_TIMELINE = [
      { month: 'Aug', users: 45,  queries: 1200  },
      { month: 'Sep', users: 89,  queries: 2800  },
      { month: 'Oct', users: 142, queries: 5100  },
      { month: 'Nov', users: 198, queries: 7400  },
      { month: 'Dec', users: 267, queries: 9800  },
      { month: 'Jan', users: 342, queries: 12847 },
    ];

    const TOP_USERS = [
      { name: 'Sarah Chen',       role: 'Sr. Engineer',       dept: 'Engineering',   queries: 847, saved: '42h', growth: '+12%' },
      { name: 'Marcus Williams',  role: 'Account Executive',  dept: 'Sales',         queries: 721, saved: '36h', growth: '+8%'  },
      { name: 'Priya Patel',      role: 'Support Lead',       dept: 'Cust. Support', queries: 698, saved: '35h', growth: '+21%' },
      { name: 'James Rodriguez',  role: 'Staff Engineer',     dept: 'Engineering',   queries: 634, saved: '32h', growth: '+5%'  },
      { name: 'Aisha Johnson',    role: 'Content Manager',    dept: 'Marketing',     queries: 587, saved: '29h', growth: '+18%' },
      { name: 'Tom Nguyen',       role: 'Financial Analyst',  dept: 'Finance',       queries: 412, saved: '21h', growth: '+3%'  },
      { name: 'Lisa Park',        role: 'HR Business Partner',dept: 'HR',            queries: 298, saved: '15h', growth: '+9%'  },
    ];

    // ============================================================
    // CHART COMPONENTS
    // ============================================================

    function LineChart({ labels, data }) {
      const canvasRef = useRef(null);
      const chartRef  = useRef(null);
      useEffect(() => {
        if (chartRef.current) chartRef.current.destroy();
        chartRef.current = new Chart(canvasRef.current, {
          type: 'line',
          data: {
            labels,
            datasets: [{
              label: 'AI Queries',
              data,
              borderColor: '#3b82f6',
              backgroundColor: 'rgba(59,130,246,0.08)',
              borderWidth: 2,
              pointRadius: 0,
              pointHoverRadius: 4,
              tension: 0.4,
              fill: true,
            }],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              x: { grid: { display: false }, ticks: { maxTicksLimit: 8, color: '#94a3b8', font: { size: 11 } } },
              y: { grid: { color: '#f1f5f9' }, ticks: { color: '#94a3b8', font: { size: 11 } } },
            },
          },
        });
        return () => { if (chartRef.current) chartRef.current.destroy(); };
      }, []);
      return <canvas ref={canvasRef} />;
    }

    function BarChart({ labels, data, colors }) {
      const canvasRef = useRef(null);
      const chartRef  = useRef(null);
      useEffect(() => {
        if (chartRef.current) chartRef.current.destroy();
        chartRef.current = new Chart(canvasRef.current, {
          type: 'bar',
          data: {
            labels,
            datasets: [{
              data,
              backgroundColor: colors,
              borderRadius: 6,
              borderSkipped: false,
            }],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: { legend: { display: false } },
            scales: {
              x: { grid: { display: false }, ticks: { color: '#94a3b8', font: { size: 11 } } },
              y: { grid: { color: '#f1f5f9' }, ticks: { color: '#94a3b8', font: { size: 11 } } },
            },
          },
        });
        return () => { if (chartRef.current) chartRef.current.destroy(); };
      }, []);
      return <canvas ref={canvasRef} />;
    }

    function DonutChart({ labels, data, colors }) {
      const canvasRef = useRef(null);
      const chartRef  = useRef(null);
      useEffect(() => {
        if (chartRef.current) chartRef.current.destroy();
        chartRef.current = new Chart(canvasRef.current, {
          type: 'doughnut',
          data: {
            labels,
            datasets: [{ data, backgroundColor: colors, borderWidth: 0, hoverOffset: 4 }],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '68%',
            plugins: {
              legend: {
                position: 'bottom',
                labels: { padding: 12, font: { size: 11 }, color: '#64748b', usePointStyle: true, pointStyleWidth: 8 },
              },
            },
          },
        });
        return () => { if (chartRef.current) chartRef.current.destroy(); };
      }, []);
      return <canvas ref={canvasRef} />;
    }

    function AdoptionChart({ timelineData }) {
      const canvasRef = useRef(null);
      const chartRef  = useRef(null);
      useEffect(() => {
        if (chartRef.current) chartRef.current.destroy();
        chartRef.current = new Chart(canvasRef.current, {
          type: 'bar',
          data: {
            labels: timelineData.map(d => d.month),
            datasets: [
              {
                type: 'bar',
                label: 'Monthly Queries',
                data: timelineData.map(d => d.queries),
                backgroundColor: 'rgba(59,130,246,0.2)',
                borderColor: '#3b82f6',
                borderWidth: 1,
                borderRadius: 4,
                yAxisID: 'y',
              },
              {
                type: 'line',
                label: 'Active Users',
                data: timelineData.map(d => d.users),
                borderColor: '#10b981',
                backgroundColor: 'transparent',
                borderWidth: 2,
                pointRadius: 4,
                pointBackgroundColor: '#10b981',
                tension: 0.3,
                yAxisID: 'y1',
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: {
                position: 'top',
                labels: { font: { size: 11 }, color: '#64748b', usePointStyle: true },
              },
            },
            scales: {
              x:  { grid: { display: false }, ticks: { color: '#94a3b8', font: { size: 11 } } },
              y:  { position: 'left',  grid: { color: '#f1f5f9' }, ticks: { color: '#94a3b8', font: { size: 11 } }, title: { display: true, text: 'Queries', color: '#94a3b8', font: { size: 10 } } },
              y1: { position: 'right', grid: { display: false },   ticks: { color: '#94a3b8', font: { size: 11 } }, title: { display: true, text: 'Users',   color: '#94a3b8', font: { size: 10 } } },
            },
          },
        });
        return () => { if (chartRef.current) chartRef.current.destroy(); };
      }, []);
      return <canvas ref={canvasRef} />;
    }

    // ============================================================
    // UI COMPONENTS
    // ============================================================

    function KPICard({ metric }) {
      return (
        <div className="bg-white rounded-xl p-5 shadow-sm border border-gray-100">
          <div className="flex items-start justify-between mb-3">
            <p className="text-sm font-medium text-gray-500">{metric.title}</p>
            <span className="text-xl">{metric.icon}</span>
          </div>
          <p className="text-2xl font-bold text-gray-900 mb-3">{metric.value}</p>
          <div className="flex items-center gap-2">
            <span className={`text-xs font-semibold px-2 py-0.5 rounded-full ${metric.badge}`}>
              {metric.trend === 'up' ? '‚Üë' : '‚Üì'} {metric.change}
            </span>
            <span className="text-xs text-gray-400">{metric.subtitle}</span>
          </div>
        </div>
      );
    }

    function Card({ title, subtitle, children, className = '' }) {
      return (
        <div className={`bg-white rounded-xl shadow-sm border border-gray-100 p-5 ${className}`}>
          <div className="mb-4">
            <h3 className="text-sm font-semibold text-gray-800">{title}</h3>
            {subtitle && <p className="text-xs text-gray-400 mt-0.5">{subtitle}</p>}
          </div>
          {children}
        </div>
      );
    }

    function Avatar({ name }) {
      const initials = name.split(' ').map(n => n[0]).join('');
      const colors = [
        'from-blue-400 to-blue-600',
        'from-emerald-400 to-emerald-600',
        'from-violet-400 to-violet-600',
        'from-amber-400 to-amber-600',
        'from-rose-400 to-rose-600',
        'from-cyan-400 to-cyan-600',
        'from-indigo-400 to-indigo-600',
      ];
      const idx = name.charCodeAt(0) % colors.length;
      return (
        <div className={`w-8 h-8 rounded-full bg-gradient-to-br ${colors[idx]} flex items-center justify-center text-white text-xs font-bold flex-shrink-0`}>
          {initials}
        </div>
      );
    }

    // ============================================================
    // MAIN DASHBOARD
    // ============================================================

    function Dashboard() {
      const today = new Date(2026, 1, 19).toLocaleDateString('en-US', {
        weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
      });

      return (
        <div className="min-h-screen bg-gray-50">
          {/* Header */}
          <header className="bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-10">
            <div className="max-w-7xl mx-auto flex items-center justify-between">
              <div>
                <h1 className="text-lg font-bold text-gray-900">AI Adoption Dashboard</h1>
                <p className="text-xs text-gray-400 mt-0.5">{today}</p>
              </div>
              <div className="flex items-center gap-3">
                <span className="text-xs bg-green-100 text-green-700 px-3 py-1 rounded-full font-medium">
                  ‚óè Live
                </span>
                <button className="text-xs bg-blue-600 text-white px-4 py-1.5 rounded-lg font-medium hover:bg-blue-700 transition-colors">
                  Export Report
                </button>
              </div>
            </div>
          </header>

          <main className="max-w-7xl mx-auto px-6 py-6 space-y-5">

            {/* KPI Cards */}
            <div className="grid grid-cols-2 lg:grid-cols-4 gap-4">
              {KPI_METRICS.map(m => <KPICard key={m.title} metric={m} />)}
            </div>

            {/* Row 1: Line + Bar */}
            <div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
              <Card title="Daily Query Volume" subtitle="Last 30 days">
                <div style={{ height: 220 }}>
                  <LineChart labels={DAILY_LABELS} data={DAILY_DATA} />
                </div>
              </Card>
              <Card title="Queries by Department" subtitle="Current month">
                <div style={{ height: 220 }}>
                  <BarChart labels={DEPARTMENT_DATA.labels} data={DEPARTMENT_DATA.data} colors={DEPARTMENT_DATA.colors} />
                </div>
              </Card>
            </div>

            {/* Row 2: Donut + Adoption growth */}
            <div className="grid grid-cols-1 lg:grid-cols-3 gap-4">
              <Card title="Use Case Breakdown" subtitle="By query type">
                <div style={{ height: 280 }}>
                  <DonutChart labels={USE_CASE_DATA.labels} data={USE_CASE_DATA.data} colors={USE_CASE_DATA.colors} />
                </div>
              </Card>
              <div className="lg:col-span-2">
                <Card title="Adoption Growth" subtitle="Users & queries ‚Äî Aug 2025 to Jan 2026">
                  <div style={{ height: 280 }}>
                    <AdoptionChart timelineData={ADOPTION_TIMELINE} />
                  </div>
                </Card>
              </div>
            </div>

            {/* Top Users Table */}
            <Card title="Top AI Users" subtitle="Ranked by monthly query volume">
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead>
                    <tr className="border-b border-gray-100">
                      <th className="text-left text-xs font-medium text-gray-400 pb-3 pr-4 w-8">#</th>
                      <th className="text-left text-xs font-medium text-gray-400 pb-3 pr-4">User</th>
                      <th className="text-left text-xs font-medium text-gray-400 pb-3 pr-4">Department</th>
                      <th className="text-right text-xs font-medium text-gray-400 pb-3 pr-4">Queries</th>
                      <th className="text-right text-xs font-medium text-gray-400 pb-3 pr-4">Time Saved</th>
                      <th className="text-right text-xs font-medium text-gray-400 pb-3">MoM Growth</th>
                    </tr>
                  </thead>
                  <tbody>
                    {TOP_USERS.map((user, i) => (
                      <tr key={user.name} className="border-b border-gray-50 hover:bg-gray-50 transition-colors">
                        <td className="py-3 pr-4 text-sm text-gray-400">{i + 1}</td>
                        <td className="py-3 pr-4">
                          <div className="flex items-center gap-2.5">
                            <Avatar name={user.name} />
                            <div>
                              <p className="text-sm font-medium text-gray-800 leading-tight">{user.name}</p>
                              <p className="text-xs text-gray-400">{user.role}</p>
                            </div>
                          </div>
                        </td>
                        <td className="py-3 pr-4">
                          <span className="text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-md font-medium">
                            {user.dept}
                          </span>
                        </td>
                        <td className="py-3 pr-4 text-right text-sm font-semibold text-gray-800">
                          {user.queries.toLocaleString()}
                        </td>
                        <td className="py-3 pr-4 text-right text-sm text-gray-600">{user.saved}</td>
                        <td className="py-3 text-right">
                          <span className="text-xs font-semibold text-emerald-600">{user.growth}</span>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </Card>

          </main>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<Dashboard />);
  </script>
</body>
</html>
